<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zo√™</title>

<style>
*{ box-sizing:border-box; }

body{
  margin:0;
  background:#e5e7eb;
  display:flex;
  justify-content:center;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}

.phone{
  width:100%;
  max-width:420px;
  min-height:100vh;
  background:#f8fafc;
}

header{
  background:#22c55e;
  color:#fff;
  padding:16px;
  font-weight:600;
}

main{ padding:16px; }

.card{
  background:#fff;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}

.card img{
  width:100%;
  border-radius:12px;
  margin-bottom:10px;
}

.btn{
  background:#f97316;
  color:#fff;
  border:none;
  padding:12px;
  width:100%;
  border-radius:12px;
  margin-top:10px;
  cursor:pointer;
  font-weight:600;
}

.btn.green{ background:#22c55e; }
.btn.blue{ background:#2563eb; }
.btn.gray{ background:#e5e7eb; color:#111; }

.value-buttons{
  display:flex;
  gap:8px;
  margin:10px 0;
}

.value-buttons button{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:2px solid #22c55e;
  background:#fff;
  color:#22c55e;
  font-weight:600;
  cursor:pointer;
}

.value-buttons button.active{
  background:#22c55e;
  color:#fff;
}

input{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid #ddd;
  margin-top:8px;
}
</style>
</head>

<body>

<div class="phone">

<header>Zo√™</header>

<main id="screen"></main>
<div id="paymentScreen" style="display:none;padding:16px;"></div>

</div>

<script>
// ===== DADOS =====
const families = [
  { name:"Fam√≠lia Silva", image:"assets/familia1.jpeg", goal:1800, raised:720 },
  { name:"Fam√≠lia Pereira", image:"assets/familia2.jpeg", goal:900, raised:300 }
];

let valorSelecionado = 0;
let familiaAtual = "";

// ===== HOME =====
function renderHome(){
  const s = document.getElementById("screen");
  const p = document.getElementById("paymentScreen");

  p.style.display = "none";
  s.style.display = "block";

  s.innerHTML = `
    <div class="card">
      <h3>Bem-vindo(a)!</h3>
      <p>Ajude fam√≠lias no Maraj√≥ atrav√©s do apadrinhamento.</p>
    </div>
  `;

  families.forEach(f=>{
    const percent = Math.min((f.raised / f.goal) * 100, 100);

    s.innerHTML += `
      <div class="card">
        <img src="${f.image}">
        <strong>${f.name}</strong>
        <p>R$ ${f.raised} / R$ ${f.goal}</p>
        <div class="progress">
          <div class="progress-fill" style="width:${percent}%"></div>
        </div>
        <button class="btn" onclick="abrirPagamento('${f.name}')">Apadrinhar</button>
      </div>
    `;
  });
}

// ===== ESCOLHA DO PAGAMENTO =====
function abrirPagamento(nome){
  familiaAtual = nome;
  valorSelecionado = 0;

  document.getElementById("screen").style.display = "none";
  const p = document.getElementById("paymentScreen");
  p.style.display = "block";

  p.innerHTML = `
    <div class="card">
      <h3>Forma de pagamento</h3>
      <p><strong>${nome}</strong></p>

      <button class="btn green" onclick="abrirPix()">üíö Pix</button>
      <button class="btn blue" onclick="abrirCartao()">üí≥ Cart√£o</button>

      <button class="btn gray" onclick="renderHome()">‚Üê Voltar</button>
    </div>
  `;
}

// ===== PIX =====
function abrirPix(){
  const p = document.getElementById("paymentScreen");

  p.innerHTML = `
    <div class="card">
      <h3>Pagamento via Pix</h3>
      <p><strong>${familiaAtual}</strong></p>

      <div class="value-buttons">
        <button onclick="setValor(10,this)">R$ 10</button>
        <button onclick="setValor(50,this)">R$ 50</button>
        <button onclick="setValor(100,this)">R$ 100</button>
      </div>

      <input id="valorInput" type="number" placeholder="Outro valor (R$)"
        oninput="setValor(this.value)">

      <button class="btn green" onclick="gerarPix()">Fazer pagamento</button>
      <button class="btn gray" onclick="abrirPagamento(familiaAtual)">‚Üê Voltar</button>
    </div>
  `;
}

function setValor(valor, botao=null){
  valorSelecionado = Number(valor) || 0;

  const input = document.getElementById("valorInput");
  if(input) input.value = valorSelecionado || "";

  document.querySelectorAll(".value-buttons button")
    .forEach(b=>b.classList.remove("active"));

  if(botao) botao.classList.add("active");
}

function gerarPix(){
  if(valorSelecionado <= 0){
    alert("Informe um valor v√°lido");
    return;
  }

  const p = document.getElementById("paymentScreen");

  p.innerHTML = `
    <div class="card" style="text-align:center">
      <h3>PIX</h3>
      <p>Valor: <strong>R$ ${valorSelecionado.toFixed(2)}</strong></p>

      <img src="assets/qrcode-pix.png" style="width:220px;margin:12px auto">

      <p id="pixCode" style="font-size:12px;word-break:break-all">
        PIX-ZOE-${valorSelecionado}
      </p>

      <button class="btn" onclick="copiarPix()">Copiar c√≥digo PIX</button>
      <button class="btn green" onclick="sucesso()">J√° paguei</button>
    </div>
  `;
}

function copiarPix(){
  navigator.clipboard.writeText(
    document.getElementById("pixCode").innerText
  );
  alert("C√≥digo PIX copiado");
}

// ===== CART√ÉO =====
function abrirCartao(){
  const p = document.getElementById("paymentScreen");

  p.innerHTML = `
    <div class="card">
      <h3>Pagamento com Cart√£o</h3>
      <p><strong>${familiaAtual}</strong></p>

      <input placeholder="Nome no cart√£o">
      <input placeholder="N√∫mero do cart√£o">
      <input placeholder="Validade (MM/AA)">
      <input placeholder="CVV">

      <button class="btn blue" onclick="sucesso()">Pagar</button>
      <button class="btn gray" onclick="abrirPagamento(familiaAtual)">‚Üê Voltar</button>
    </div>
  `;
}

// ===== SUCESSO =====
function sucesso(){
  document.getElementById("paymentScreen").innerHTML = `
    <div class="card" style="text-align:center">
      <h2>‚ù§Ô∏è Obrigado!</h2>
      <p>Doa√ß√£o registrada com sucesso.</p>
    </div>
  `;
  setTimeout(renderHome,3000);
}

// START
renderHome();
</script>

</body>
</html>
