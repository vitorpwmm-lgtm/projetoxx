<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zo√™</title>

<style>
*{ box-sizing:border-box; }

body{
  margin:0;
  background:#e5e7eb;
  display:flex;
  justify-content:center;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}

.phone{
  width:100%;
  max-width:420px;
  min-height:100vh;
  background:#f8fafc;
  position:relative;
}

header{
  background:#22c55e;
  color:#fff;
  padding:16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-weight:600;
}

header button{
  background:#fff;
  color:#22c55e;
  border:none;
  padding:6px 14px;
  border-radius:18px;
  font-weight:600;
  cursor:pointer;
}

main{
  padding:16px;
  padding-bottom:90px;
}

.card{
  background:#fff;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}

.card img{
  width:100%;
  border-radius:12px;
  margin-bottom:10px;
}

.btn{
  background:#f97316;
  color:#fff;
  border:none;
  padding:10px;
  width:100%;
  border-radius:12px;
  cursor:pointer;
  margin-top:10px;
}

.progress{
  background:#e5e7eb;
  height:8px;
  border-radius:8px;
  overflow:hidden;
  margin-top:6px;
}

.progress-fill{
  background:#22c55e;
  height:100%;
}

.nav{
  position:absolute;
  top:60px;
  right:16px;
  background:#fff;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  display:none;
  flex-direction:column;
  min-width:180px;
  z-index:999;
}

.nav div{
  padding:14px 16px;
  cursor:pointer;
  border-bottom:1px solid #eee;
}

.nav div:last-child{
  border-bottom:none;
}
</style>
</head>

<body>

<div class="phone">

<header>
  <span>Zo√™</span>
  <div>
    <button id="authBtn" onclick="handleAuth()">Entrar</button>
    <button onclick="toggleMenu()">‚ò∞</button>
  </div>
</header>

<main id="screen"></main>
<!-- TELA DE PAGAMENTO -->
<div id="paymentScreen" style="display:none;padding:16px;">
  <div class="card">
    <h3>Forma de pagamento</h3>
    <p id="paymentFamily" style="font-weight:600;margin-bottom:12px;"></p>

    <button class="btn" onclick="pagarPix()">üíö Pagar com Pix</button>
    <button class="btn" style="background:#2563eb" onclick="pagarCartao()">üí≥ Pagar com Cart√£o</button>

    <button class="btn" style="background:#e5e7eb;color:#111" onclick="voltarHome()">
      ‚Üê Voltar
    </button>
  </div>
</div>

<div class="nav" id="menu">
  <div onclick="renderHome()">In√≠cio</div>
  <div onclick="renderDonations()">Doa√ß√µes</div>
  <div onclick="renderTransparency()">Transpar√™ncia</div>
</div>

</div>

<script>
// ===== PROTE√á√ÉO DE LOGIN =====
const usuario = JSON.parse(localStorage.getItem("usuarioLogado"));
if(!usuario){
  window.location.href = "index.html";
}else{
  document.getElementById("authBtn").innerText = "Sair";
}

function handleAuth(){
  localStorage.removeItem("usuarioLogado");
  window.location.href = "index.html";
}

// ===== MENU =====
function toggleMenu(){
  const nav = document.getElementById("menu");
  nav.style.display = nav.style.display === "flex" ? "none" : "flex";
}

// ===== DADOS LIMPOS (SEM BASE64) =====
const families = [
  {
    id:1,
    name:"Fam√≠lia Silva",
    goal:1800,
    raised:720,
    image:"assets/familia1.jpeg"
  },
  {
    id:2,
    name:"Fam√≠lia Pereira",
    goal:900,
    raised:300,
    image:"assets/familia2.jpeg"
  }
];

// ===== TELAS =====
function renderHome(){
  const screen = document.getElementById("screen");
  screen.innerHTML = `
    <div class="card">
      <h3>Bem-vindo(a)!</h3>
      <p>Ajude fam√≠lias no Maraj√≥ atrav√©s do apadrinhamento.</p>
    </div>
  `;

  families.forEach(f=>{
    const percent = Math.min((f.raised / f.goal) * 100, 100);

    screen.innerHTML += `
      <div class="card">
        <img src="${f.image}" alt="${f.name}">
        <strong>${f.name}</strong>
        <p>R$ ${f.raised} / R$ ${f.goal}</p>
        <div class="progress">
          <div class="progress-fill" style="width:${percent}%"></div>
        </div>
        <button class="btn" onclick="abrirPagamento('${f.name}')">
  Apadrinhar
</button>
      </div>
    `;
  });
}

function renderDonations(){
  document.getElementById("screen").innerHTML = `
    <div class="card">
      <h3>Doa√ß√µes</h3>
      <p>Hist√≥rico de doa√ß√µes ser√° exibido aqui.</p>
    </div>
  `;
}

function renderTransparency(){
  document.getElementById("screen").innerHTML = `
    <div class="card">
      <h3>Transpar√™ncia</h3>

      <strong>Alimenta√ß√£o ‚Äì 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>

      <strong style="display:block;margin-top:12px">Rem√©dios ‚Äì 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>

      <strong style="display:block;margin-top:12px">Casa ‚Äì 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>

      <strong style="display:block;margin-top:12px">Educa√ß√£o ‚Äì 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>
    </div>
  `;
}

// inicial
renderHome();
// ===== PAGAMENTO =====
function abrirPagamento(nomeFamilia){
  document.getElementById("screen").style.display = "none";
  document.getElementById("paymentScreen").style.display = "block";
  document.getElementById("paymentFamily").innerText =
    "Voc√™ est√° ajudando: " + nomeFamilia;
}

function voltarHome(){
  document.getElementById("paymentScreen").style.display = "none";
  document.getElementById("screen").style.display = "block";
}

function pagarPix(){
  alert("Pagamento via PIX em breve üíö");
}

function pagarCartao(){
  alert("Pagamento com cart√£o em breve üí≥");
}
</script>

</body>
</html>
