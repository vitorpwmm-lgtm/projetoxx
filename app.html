<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zoê</title>

<style>
*{ box-sizing:border-box; }

body{
  margin:0;
  background:#e5e7eb;
  display:flex;
  justify-content:center;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}

.phone{
  width:100%;
  max-width:420px;
  min-height:100vh;
  background:#f8fafc;
  position:relative;
}

header{
  background:#22c55e;
  color:#fff;
  padding:16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-weight:600;
}

header button{
  background:#fff;
  color:#22c55e;
  border:none;
  padding:6px 14px;
  border-radius:18px;
  font-weight:600;
  cursor:pointer;
}

main{
  padding:16px;
  padding-bottom:90px;
}

.card{
  background:#fff;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}

.card img{
  width:100%;
  border-radius:12px;
  margin-bottom:10px;
}

.btn{
  background:#f97316;
  color:#fff;
  border:none;
  padding:10px;
  width:100%;
  border-radius:12px;
  cursor:pointer;
  margin-top:10px;
}

.progress{
  background:#e5e7eb;
  height:8px;
  border-radius:8px;
  overflow:hidden;
  margin-top:6px;
}

.progress-fill{
  background:#22c55e;
  height:100%;
}

.nav{
  position:absolute;
  top:60px;
  right:16px;
  background:#fff;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  display:none;
  flex-direction:column;
  min-width:180px;
  z-index:999;
}

.nav div{
  padding:14px 16px;
  cursor:pointer;
  border-bottom:1px solid #eee;
}

.nav div:last-child{
  border-bottom:none;
}
</style>
</head>

<body>

<div class="phone">

<header>
  <span>Zoê</span>
  <div>
    <button id="authBtn" onclick="handleAuth()">Entrar</button>
    <button onclick="toggleMenu()">☰</button>
  </div>
</header>

<main id="screen"></main>

<div class="nav" id="menu">
  <div onclick="renderHome()">Início</div>
  <div onclick="renderDonations()">Doações</div>
  <div onclick="renderTransparency()">Transparência</div>
</div>

</div>

<script>
// ===== PROTEÇÃO DE LOGIN =====
const usuario = JSON.parse(localStorage.getItem("usuarioLogado"));
if(!usuario){
  window.location.href = "index.html";
}else{
  document.getElementById("authBtn").innerText = "Sair";
}

function handleAuth(){
  localStorage.removeItem("usuarioLogado");
  window.location.href = "index.html";
}

// ===== MENU =====
function toggleMenu(){
  const nav = document.getElementById("menu");
  nav.style.display = nav.style.display === "flex" ? "none" : "flex";
}

// ===== DADOS LIMPOS (SEM BASE64) =====
const families = [
  {
    id:1,
    name:"Família Silva",
    goal:1800,
    raised:720,
    image:"./assets/familia1.jpeg"
  },
  {
    id:2,
    name:"Família Pereira",
    goal:900,
    raised:300,
    image:"./assets/familia2.jpeg"
  }
];

// ===== TELAS =====
function renderHome(){
  const screen = document.getElementById("screen");
  screen.innerHTML = `
    <div class="card">
      <h3>Bem-vindo(a)!</h3>
      <p>Ajude famílias no Marajó através do apadrinhamento.</p>
    </div>
  `;

  families.forEach(f=>{
    const percent = Math.min((f.raised / f.goal) * 100, 100);

    screen.innerHTML += `
      <div class="card">
        <img src="${f.image}" alt="${f.name}">
        <strong>${f.name}</strong>
        <p>R$ ${f.raised} / R$ ${f.goal}</p>
        <div class="progress">
          <div class="progress-fill" style="width:${percent}%"></div>
        </div>
        <button class="btn">Apadrinhar</button>
      </div>
    `;
  });
}

function renderDonations(){
  document.getElementById("screen").innerHTML = `
    <div class="card">
      <h3>Doações</h3>
      <p>Histórico de doações será exibido aqui.</p>
    </div>
  `;
}

function renderTransparency(){
  document.getElementById("screen").innerHTML = `
    <div class="card">
      <h3>Transparência</h3>

      <strong>Alimentação – 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>

      <strong style="display:block;margin-top:12px">Remédios – 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>

      <strong style="display:block;margin-top:12px">Casa – 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>

      <strong style="display:block;margin-top:12px">Educação – 25%</strong>
      <div class="progress"><div class="progress-fill" style="width:25%"></div></div>
    </div>
  `;
}

// inicial
renderHome();
</script>

</body>
</html>
